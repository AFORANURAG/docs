"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[673],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(a),m=r,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||i;return a?n.createElement(h,o(o({ref:t},u),{},{components:a})):n.createElement(h,o({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},4387:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const i={sidebar_position:2},o="Auth",l={unversionedId:"concepts/auth",id:"concepts/auth",title:"Auth",description:"Cyclic allows you to add authentication to secure parts of your api with a simple toggle. When Auth is turned on, requests are validated at the runtime layer before they are passed off to your application code.",source:"@site/docs/concepts/auth.md",sourceDirName:"concepts",slug:"/concepts/auth",permalink:"/concepts/auth",draft:!1,editUrl:"https://github.com/cyclic-software/docs/blob/main/docs/concepts/auth.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Apps",permalink:"/concepts/apps"},next:{title:"Hosting",permalink:"/concepts/hosting"}},s={},p=[{value:"Use Cases",id:"use-cases",level:2},{value:"Route Patterns",id:"route-patterns",level:2},{value:"Credentials",id:"credentials",level:2},{value:"Basic Auth Scheme",id:"basic-auth-scheme",level:3},{value:"Limits",id:"limits",level:2},{value:"Example",id:"example",level:2}],u={toc:p};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"auth"},"Auth"),(0,r.kt)("p",null,"Cyclic allows you to add authentication to secure parts of your api with a simple toggle. When Auth is turned on, requests are validated at the runtime layer before they are passed off to your application code."),(0,r.kt)("admonition",{title:"Turn auth on with a toggle switch",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"This feature is available on all apps configuration pages in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Auth")," tab")),(0,r.kt)("p",null,"Authentication and authorization can be very complex. At some point applications may require role and attribute based access control, groups and groups of groups, etc. Cyclic's auth intends to cover applications with less complex access control scenarios to enable you to gradually build more complex mechanisms while the app stays secure. "),(0,r.kt)("h2",{id:"use-cases"},"Use Cases"),(0,r.kt)("p",null,"Add API Auth to your endpoints to protect the entire app or individual paths or pages."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Password protect components such as admin pages in the browser"),(0,r.kt)("li",{parentName:"ul"},"Microservice backend-backend authentication")),(0,r.kt)("h2",{id:"route-patterns"},"Route Patterns"),(0,r.kt)("p",null,"Use express router path syntax to define path patterns for which to enable auth with corresponding authentication schemes. This includes wildcard characters like ",(0,r.kt)("code",null,"*")," and ",(0,r.kt)("code",null,"?"),". ",(0,r.kt)("a",{href:"https://www.npmjs.com/package/path-to-regexp",target:"_blank"},"Read more")," to understand the syntax in detail."),(0,r.kt)("admonition",{title:"Route Patterns with Express Syntax",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"When enabled, Auth is required on requests whenever a certain URL pattern is matched. This applies to all HTTP methods at those paths.")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"pattern ",(0,r.kt)("inlineCode",{parentName:"li"},"/page")," will enable auth at the path ",(0,r.kt)("inlineCode",{parentName:"li"},"https://sample-app.cyclic.app/page")," but still allow access to other routes"),(0,r.kt)("li",{parentName:"ul"},"pattern ",(0,r.kt)("inlineCode",{parentName:"li"},"/page*")," will enable auth at all paths starting with ",(0,r.kt)("inlineCode",{parentName:"li"},"/page")," but allow access to others, for example:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"auth required on ",(0,r.kt)("inlineCode",{parentName:"li"},"/page/image.jpeg")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"/pages")," but not required on ",(0,r.kt)("inlineCode",{parentName:"li"},"/other")))),(0,r.kt)("li",{parentName:"ul"},"pattern ",(0,r.kt)("inlineCode",{parentName:"li"},"/*")," will enable auth for all routes")),(0,r.kt)("h2",{id:"credentials"},"Credentials"),(0,r.kt)("h3",{id:"basic-auth-scheme"},"Basic Auth Scheme"),(0,r.kt)("p",null,"  Apps can be configured with basic username/password credentials. These credentials will be required for route patterns that specify the ",(0,r.kt)("inlineCode",{parentName:"p"},"Basic")," auth scheme."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In the browser, users will be prompted to enter a username and password into a prompt popup."),(0,r.kt)("li",{parentName:"ul"},"For direct API calls to authenticated routes outside the browser:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"An ",(0,r.kt)("inlineCode",{parentName:"p"},"Authorization")," header must be provided with the value of the username and password joined with a ",(0,r.kt)("inlineCode",{parentName:"p"},":")," and base64 encoded - ",(0,r.kt)("inlineCode",{parentName:"p"},"Basic {base64(username:password)}"),". ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Example browser request: "),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},'fetch("https://sample-app.cyclic.app/page", {\n  "headers": {\n    "Authorization": `Basic ${btoa(\'username:password\')}`,\n  },\n  "method": "GET"\n});\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Example node.js request:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"axios.get('https://httpbin.org/get', {\n  headers: {\n    'Authorization': `Basic ${Buffer.from('username:password').toString('base64')}`\n  }\n});\n\n"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{href:"https://swagger.io/specification/authentication/basic-authentication/",target:"_blank"},"Read more")," to understand basic auth in detail.")),(0,r.kt)("h2",{id:"limits"},"Limits"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Currently only ",(0,r.kt)("inlineCode",{parentName:"li"},"Basic")," auth scheme is available with others coming soon"),(0,r.kt)("li",{parentName:"ul"},"The number of credentials is limited to ",(0,r.kt)("inlineCode",{parentName:"li"},"3")," per app"),(0,r.kt)("li",{parentName:"ul"},"The number of route patterns is limited to ",(0,r.kt)("inlineCode",{parentName:"li"},"3")," per app")),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Enable auth for your app as explained above."),(0,r.kt)("li",{parentName:"ul"},"Encode user name and password using online base64 encoder or bash: ",(0,r.kt)("inlineCode",{parentName:"li"},"echo -n 'username:password' | base64")),(0,r.kt)("li",{parentName:"ul"},"Use base64 encoded string in Authorization header:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"curl -H \"Authorization: Basic $(echo -n 'username:password' | base64)\" https://app-url.cyclic.app\n")))}c.isMDXComponent=!0}}]);